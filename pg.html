<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Platformer Game with Jump and Move</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="800" height="400"></canvas>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    const player = {
      x: 50,
      y: 300,
      width: 50,
      height: 50,
      color: 'blue',
      speed: 5,
      jumping: false,
      jumpHeight: 100,
      jumpCount: 0,
      velocityX: 0, // Horizontal velocity
    };

    const ground = {
      x: 0,
      y: 350,
      width: canvas.width,
      height: 50,
      color: 'green',
    };

    function draw() {
      // Clear the canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Draw ground
      ctx.fillStyle = ground.color;
      ctx.fillRect(ground.x, ground.y, ground.width, ground.height);

      // Draw player
      ctx.fillStyle = player.color;
      ctx.fillRect(player.x, player.y, player.width, player.height);

      // Update player position
      if (player.jumping) {
        player.y -= 5;
        player.jumpCount += 5;
        if (player.jumpCount >= player.jumpHeight) {
          player.jumping = false;
          player.jumpCount = 0;
        }
      } else if (player.y < ground.y - player.height) {
        player.y += 5; // Simulate gravity
      }

      // Update player horizontal position
      player.x += player.velocityX;

      requestAnimationFrame(draw);
    }

    function jump() {
      if (!player.jumping) {
        player.jumping = true;
      }
    }

    function moveLeft() {
      player.velocityX = -player.speed;
    }

    function moveRight() {
      player.velocityX = player.speed;
    }

    function stopMoving() {
      player.velocityX = 0;
    }

    document.addEventListener('keydown', (event) => {
      switch (event.key) {
        case 'ArrowUp':
          jump();
          break;
        case 'ArrowLeft':
          moveLeft();
          break;
        case 'ArrowRight':
          moveRight();
          break;
      }
    });

    document.addEventListener('keyup', (event) => {
      if (event.key === 'ArrowLeft' || event.key === 'ArrowRight') {
        stopMoving();
      }
    });

    draw(); // Start the game loop
  </script>
</body>
</html>